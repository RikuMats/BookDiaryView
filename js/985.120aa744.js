"use strict";(self["webpackChunkbook_dialy_view"]=self["webpackChunkbook_dialy_view"]||[]).push([[985],{7985:function(t,o,e){e.r(o),e.d(o,{default:function(){return O}});var i=e(266),s=e(2118),r=e(1713),n=function(){var t=this,o=t._self._c;t._self._setupProxy;return o(s.Z,[o(r.Z,[t._v(" welcome! "+t._s(t.userName)+" "),o("br"),t._v(" your ID: "+t._s(t.id)+" ")]),o(r.Z,[o(i.Z,[o("BookList",{key:t.bookListKey,attrs:{bookList:t.bookList},on:{"red-book":t.redBook,"add-book":t.addBook}})],1),o(i.Z,[o("RedBookList",{key:t.redBookListKey,attrs:{bookList:t.redBookList}})],1)],1)],1)},a=[],l=e(2482),c=(e(7658),e(1929)),h=e(6190),u=e(9582),p=e(4886),d=e(5047),k=e(9930),g=e(9223),m=e(4324),f=e(5495),b=e(3687),v=e(7808),w=e(7678);const y=(0,w.Z)(v.Z);var Z=y.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...v.Z.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick((()=>{var o;t?this.calculateInputHeight():null===(o=this.$refs.input)||void 0===o||o.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const o=t.scrollHeight,e=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(e,o)+"px"},genInput(){const t=v.Z.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){v.Z.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),B=e(6313),x=e(7953),_=function(){var t=this,o=t._self._c;t._self._setupProxy;return o(d.Z,{key:t.updateKey,staticClass:"elevation-1 my-3 mx-auto",attrs:{headers:t.headers,items:t.bookList,"items-per-page":10},scopedSlots:t._u([{key:"top",fn:function(){return[o(B.Z,{attrs:{flat:""}},[o(x.qW,[t._v("Book Shelf")]),o(g.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o(b.Z),o(h.Z,{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(o){t.newBookDialog=!0}}},[t._v(" New Book ")]),o(k.Z,{attrs:{"max-width":"500px"},model:{value:t.newBookDialog,callback:function(o){t.newBookDialog=o},expression:"newBookDialog"}},[o(u.Z,[o(p.EB,[o("span",{staticClass:"text-h5"},[t._v("Search Book")])]),o("SearchBook",{on:{"find-book":t.addBook}})],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:e}){return[o(h.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(o){return t.writeImpression(e)}}},[o(m.Z,[t._v(" mdi-pencil")])],1),o(k.Z,{attrs:{"max-width":"500px"},model:{value:t.impressionWritingDialog,callback:function(o){t.impressionWritingDialog=o},expression:"impressionWritingDialog"}},[o(u.Z,[o(p.EB,[o("span",{staticClass:"text-h5"},[t._v("Write Impression")])]),o(p.ZB,[o(Z,{attrs:{outlined:"",name:"input-7-4",label:"impression"},model:{value:t.impression,callback:function(o){t.impression=o},expression:"impression"}})],1),o(p.h7,[o(h.Z,{attrs:{color:"deep-purple lighten-2",text:""},on:{click:t.save}},[t._v(" save ")])],1)],1)],1)]}},{key:"item.img_url",fn:function({item:t}){return[o(f.Z,{staticClass:"ma-0 pa-0",attrs:{src:t.img_url,"aspect-ratio":3/4,height:"12vw","min-height":"120px",width:"9vw","min-width":"90px"}})]}}],null,!0)})},L=[],I=e(4454),A=e(28),D=function(t,o,e,i){var s,r=arguments.length,n=r<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,e):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(t,o,e,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(n=(r<3?s(n):r>3?s(o,e,n):s(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n};let C=class extends c.w3{constructor(...t){super(...t),(0,l.Z)(this,"newBookDialog",!1),(0,l.Z)(this,"impressionWritingDialog",!1),(0,l.Z)(this,"updateKey",1),(0,l.Z)(this,"impression",""),(0,l.Z)(this,"redBook",void 0),(0,l.Z)(this,"bookList",void 0),(0,l.Z)(this,"headers",[{text:"書影",align:"start",sortable:!1,value:"img_url",width:"30%"},{text:"タイトル",sortable:!1,value:"title",width:"30%"},{text:"著者",sortable:!1,value:"author",width:"40%"},{value:"actions",sortable:!1}])}addBook(t){this.newBookDialog=!1,this.$emit("add-book",t)}writeImpression(t){this.impressionWritingDialog=!0,this.redBook=A.i.red(t)}save(){this.impressionWritingDialog=!1,this.redBook.writeImpression(this.impression),console.log("red!"),console.log(this.redBook),this.$emit("red-book",this.redBook)}};D([(0,c.fI)()],C.prototype,"bookList",void 0),C=D([(0,c.wA)({components:{SearchBook:I.Z}})],C);var H=C,z=H,R=e(1001),K=(0,R.Z)(z,_,L,!1,null,null,null),N=K.exports,G=e(6283),P=function(t,o,e,i){var s,r=arguments.length,n=r<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,e):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(t,o,e,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(n=(r<3?s(n):r>3?s(o,e,n):s(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n};let W=class extends c.w3{constructor(...t){super(...t),(0,l.Z)(this,"id",void 0),(0,l.Z)(this,"userName",void 0),(0,l.Z)(this,"bookList",void 0),(0,l.Z)(this,"redBookList",void 0),(0,l.Z)(this,"bookListKey",0),(0,l.Z)(this,"redBookListKey",0)}fetchUserData(){this.userName="name",this.bookList=[new A.f("9784041117170","民王シベリアの陰謀","池井戸潤","http://books.google.com/books/content?id=5IGKzgEACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api"),new A.f("9784122064492","花咲舞が黙ってない","池井戸潤","http://books.google.com/books/content?id=F-2CswEACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api"),new A.f("9784087716191","陸王","池井戸潤","http://books.google.com/books/content?id=5y2DvgAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api")],this.redBookList=[new A.i("9784198942304","アキラとあきら","池井戸潤","http://books.google.com/books/content?id=jo75swEACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api","that's interesting"),new A.i("9784167110116","手紙","東野圭吾","http://books.google.com/books/content?id=_XH4PgAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api","that's fun")]}created(){this.fetchUserData()}redBook(t){this.redBookList.push(t),this.bookList=this.bookList.filter((o=>o.isbn!==t.isbn)),this.redBookListKey+=1,this.bookListKey+=1}addBook(t){0==this.bookList.filter((o=>{o.isbn,t.isbn})).length&&this.bookList.push(t),this.bookListKey+=1}};P([(0,c.fI)()],W.prototype,"id",void 0),W=P([(0,c.wA)({components:{BookList:N,RedBookList:G.Z}})],W);var $=W,j=$,S=(0,R.Z)(j,n,a,!1,null,null,null),O=S.exports}}]);
//# sourceMappingURL=985.120aa744.js.map